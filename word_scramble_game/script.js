const words=[
    {
        Meaning:"The Most or Entirely Merciful",
        name:"Ar-Rahmaan"
    },
    {
        Meaning:"The Bestower of Mercy",
        name:"Ar-Raheem"
    },
    {
        Meaning:"The King and Owner of Dominion",
        name:"Al-Malik"
    },
    {
        Meaning:"The Absolutely Pure",
        name:"Al-Quddus"
    },
    {
        Meaning:"The Perfection and Giver of Peace",
        name:"As-Salaam"
    },
    {
        Meaning:"The One Who gives Emaan and Security",
        name:"Al-Mu’min"
    },
    {
        Meaning:"The Guardian, The Witness, The Overseer",
        name:"Al-Muhaymin"
    },
    {
        Meaning:"The All Mighty",
        name:"Al-Azeez"
    },
    {
        Meaning:"The Compeller, The Restorer",
        name:"Al-Jabbaar"
    },
    {
        Meaning:"The Supreme, The Majestic",
        name:"Al-Mutakabbir"
    },
    {
        Meaning:"The Creator, The Maker",
        name:"Al-Khaaliq"
    },
    {
        Meaning:"The Originator",
        name:"Al-Baari"
    },
    {
        Meaning:"The Fashioner",
        name:"Al-Musawwir"
    },
    {
        Meaning:"The All- and Oft-Forgiving",
        name:"Al-Ghaffaar"
    },
    {
        Meaning:"The Subduer, The Ever-Dominating",
        name:"Al-Qahhaar"
    },
    {
        Meaning:"The Giver of Gifts",
        name:"Al-Wahhaab"
    },
    {
        Meaning:"The Provider",
        name:"Ar-Razzaaq"
    },
    {
        Meaning:"The Opener, The Judge",
        name:"Al-Fattah"
    },
    {
        Meaning:"The All-Knowing, The Omniscient",
        name:"Al-‘Aleem"
    },
    {
        Meaning:"The Withholder",
        name:"Al-Qaabid"
    },
    {
        Meaning:"The Extender",
        name:"Al-Baasit"
    },
    {
        Meaning:"The Reducer, The Abaser",
        name:"Al-Khaafidh"
    },
    {
        Meaning:"The Exalter, The Elevator",
        name:"Ar-Raafi"
    },
    {
        Meaning:"The Honourer, The Bestower",
        name:"Al-Mu’izz"
    },
    {
        Meaning:"The Dishonourer, The Humiliator",
        name:"Al-Muzil"
    },
    {
        Meaning:"The All-Hearing",
        name:"As-Samee"
    },
    {
        Meaning:"The All-Seeing",
        name:"Al-Baseer"
    },
    {
        Meaning:"The Judge, The Giver of Justice",
        name:"Al-Hakam"
    },
    {
        Meaning:"The Utterly Just",
        name:"Al-‘Adl"
    },
    {
        Meaning:"The Subtle One, The Most Gentle",
        name:"Al-Lateef"
    },
    {
        Meaning:"The Acquainted, The All-Aware",
        name:"Al-Khabeer"
    },
    {
        Meaning:"The Most Forbearing",
        name:"Al-Haleem"
    },
    {
        Meaning:"The Magnificent, The Supreme",
        name:"Al-‘Azeem"
    },
    {
        Meaning:"The Forgiving, The Exceedingly Forgiving",
        name:"Al-Ghafoor"
    },
    {
        Meaning:"The Most Appreciative",
        name:"Ash-Shaakoor"
    },
    {
        Meaning:"The Most High, The Exalted",
        name:"Al-‘Alee"
    },
    {
        Meaning:"The Greatest, The Most Grand",
        name:"Al-Kabeer"
    },
    {
        Meaning:"The Preserver, The All-Heedful and All-Protecting",
        name:"Al-Hafeedh"
    },
    {
        Meaning:"The Sustainer, The Maintainer",
        name:"Al-Muqeet"
    },
    {
        Meaning:"The Reckoner",
        name:"Al-Hasib"
    },
    {
        Meaning:"The Majestic",
        name:"Al-Jaleel"
    },
    {
        Meaning:"The Most Generous, The Most Esteemed",
        name:"Al-Kareem"
    },
    {
        Meaning:"The Watchful, The All-Watchful",
        name:"Ar-Raqeeb"
    },
    {
        Meaning:"The Responsive, The Answerer",
        name:"Al-Mujeeb"
    },
    {
        Meaning:"The All-Encompassing, the Boundless",
        name:"Al-Waasi’"
    },
    {
        Meaning:"The All-Wise",
        name:"Al-Hakeem"
    },
    {
        Meaning:"The Most Loving",
        name:"Al-Wadud"
    },
    {
        Meaning:"The Glorious, The Most Honorable",
        name:"Al-Majeed"
    },
    {
        Meaning:"The Infuser of New Life",
        name:"Al-Baa’ith"
    },
    {
        Meaning:"The All Observing Witnessing",
        name:"As-Shaheed"
    },
    {
        Meaning:"The Absolute Truth",
        name:"Al-Haqq"
    },
    {
        Meaning:"The Trustee, The Disposer of Affairs",
        name:"Al-Wakeel"
    },
    {
        Meaning:"The All-Strong",
        name:"Al-Qawiyy"
    },
    {
        Meaning:"The Firm, The Steadfast",
        name:"Al-Mateen"
    },
    {
        Meaning:"The Protecting Associate",
        name:"Al-Walee"
    },
    {
        Meaning:"The Praiseworthy",
        name:"Al-Hameed"
    },
    {
        Meaning:"The All-Enumerating, The Counter",
        name:"Al-Muhsee"
    },
    {
        Meaning:"The Originator, The Initiator",
        name:"Al-Mubdi’"
    },
    {
        Meaning:"The Restorer, The Reinstater",
        name:"Al-Mu’id"
    },
    {
        Meaning:"The Giver of Life",
        name:"Al-Muhyee"
    },
    {
        Meaning:"The Creator of Death",
        name:"Al-Mumeet"
    },
    {
        Meaning:"The Ever-Living",
        name:"Al-Hayy"
    },
    {
        Meaning:"The Sustainer, The Self-Subsisting",
        name:"Al-Qayyoom"
    },
    {
        Meaning:"The Perceiver",
        name:"Al-Waajid"
    },
    {
        Meaning:"The Illustrious, The Magnificent",
        name:"Al-Maajid"
    },
    {
        Meaning:"The One, The Indivisible",
        name:"Al-Waahid"
    },
    {
        Meaning:"The Unique, The Only One",
        name:"Al-Ahad"
    },
    {
        Meaning:"The Eternal, Satisfier of Needs",
        name:"As-Samad"
    },
    {
        Meaning:"The Omnipotent",
        name:"Al-Qaadir"
    },
    {
        Meaning:"The Powerful",
        name:"Al-Muqtadir"
    },
    {
        Meaning:"The Expediter, The Promoter",
        name:"Al-Muqaddim"
    },
    {
        Meaning:"The Delayer",
        name:"Al-Mu’akhkhir"
    },
    {
        Meaning:"The First",
        name:"Al-Awwal"
    },
    {
        Meaning:"The Last, The Utmost",
        name:"Al-Aakhir"
    },
     {
        Meaning:"The Manifest, The All-Surpassing",
        name:"Az-Zaahir"
    },
     {
        Meaning:"The Hidden One, Knower of the Hidden",
        name:"Al-Baatin"
    },
    {
        Meaning:"The Sole Governor",
        name:"Al-Waalee"
    },
    {
        Meaning:"The Self Exalted",
        name:"Al-Muta’ali"
    },
    {
        Meaning:"The Source of All Goodness",
        name:"Al-Barr"
    },
    {
        Meaning:"The Ever-Pardoning",
        name:"At-Tawwaab"
    },
    {
        Meaning:"The Avenger",
        name:"Al-Muntaqim"
    },
    {
        Meaning:"The Pardoner",
        name:"Al-‘Afuww"
    },
    {
        Meaning:"The Most Kind",
        name:"Ar-Ra’ooof"
    },
    {
        Meaning:"Master of the Dominion, Owner of the Kingdom",
        name:"Maalik-al-Mulk"
    },
     {
        Meaning:"Possessor of Glory and Honour",
        name:"Thul-Jalaali wal-Ikraam"
    },
    {
        Meaning:"The Just One",
        name:"Al-Muqsiṭ"
    },
    {
        Meaning:"The Gatherer, the Uniter",
        name:"Al-Jaami’"
    },
    {
        Meaning:"The Self-Sufficient, The Wealthy",
        name:"Al-Ghaniyy"
    },
    {
        Meaning:"The Enricher",
        name:"Al-Mughniyy"
    },
    {
        Meaning:"The Withholder",
        name:"Al-Maani’"
    },
    {
        Meaning:"The Distresser",
        name:"Ad-Dhaarr"
    }, 
    {
        Meaning:"The Propitious, The Benefactor",
        name:"An-Naafi’"
    },
    {
        Meaning:"The Light",
        name:"An-Noor"
    },
    {
        Meaning:"The Guide",
        name:"Al-Haadi"
    },
    {
        Meaning:"The Incomparable Originator",
        name:"Al-Badee’"
    },
    {
        Meaning:"The Ever-Lasting",
        name:"Al-Baaqi"
    },
    {
        Meaning:"The Inheritor",
        name:"Al-Waarith"
    },
    {
        Meaning:"The Guide to the Right Path",
        name:"Ar-Rasheed"
    },
    {
        Meaning:"The Patient",
        name:"Al-Saboor"
    }
]
word = document.querySelector('.word');
hint = document.querySelector('.hint');
sco = document.querySelector('.score');

let score = 0;
let w; // Store current word globally

function randomnumbergenfornameselect() {
    return Math.trunc(Math.random() * words.length);
}

function getrandomnumber(min, max) {
    return Math.trunc(Math.random() * (max - min + 1) + min);
}

function scramble(word) 
{
    let arr = word.split('');
    for (let i = arr.length - 1; i > 0; i--) 
    {
        let j = getrandomnumber(0, i);  
        [arr[i], arr[j]] = [arr[j], arr[i]]; 
    }
    return arr.join('').toUpperCase();
}

function first() 
{
    let number = randomnumbergenfornameselect();
    w = words[number].name.toUpperCase();
    let s = scramble(w);
    word.innerText = s;
    hint.innerText = words[number].Meaning;
}

function returntext() 
{
    let inputElement = document.getElementById("input");
    return inputElement ? inputElement.value.toUpperCase() : "";
}

function check(word, new_word) 
{
    console.log("Original Word:", word);
    console.log("User Input:", new_word);
    
    if (new_word === word) 
    {
        console.log("Correct");
        return true;
    } 
    else 
    {
        console.log("Incorrect.");
        document.querySelector('.finalmessage').innerText = `Your final score was: ${score}. Press refresh to start a new game.`;
        return false;
    }
}

function operate() 
{
    let number = randomnumbergenfornameselect();
    w = words[number].name.toUpperCase();
    let s = scramble(w);
    word.innerText = s;
    hint.innerText = words[number].Meaning;
}

che = document.querySelector('.check');
che.addEventListener("click", function () 
{
    let userInput = returntext();
    if (check(w, userInput)) {
        score++;
        sco.innerText = `Score: ${score}`;
        operate(); 
    }
});

function refresh() {
    score = 0;
    sco.innerText = `Score: ${score}`;
    document.querySelector('.finalmessage').innerText=``;
    operate();
}

ref = document.querySelector('.refresh');
ref.addEventListener("click", function () {
    refresh();
});

first(); // Initialize first word